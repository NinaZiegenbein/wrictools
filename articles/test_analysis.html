<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Analyzing WRIC Data: Zero Tests and Methanol Burns • wrictools</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Analyzing WRIC Data: Zero Tests and Methanol Burns">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">wrictools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/wrictools.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/RedCAP.html">RedCAP</a></li>
    <li><a class="dropdown-item" href="../articles/test_analysis.html">Analyzing WRIC Data: Zero Tests and Methanol Burns</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NinaZiegenbein/wrictools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Analyzing WRIC Data: Zero Tests and Methanol Burns</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NinaZiegenbein/wrictools/blob/master/vignettes/test_analysis.Rmd" class="external-link"><code>vignettes/test_analysis.Rmd</code></a></small>
      <div class="d-none name"><code>test_analysis.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/NinaZiegenbein/wrictools" class="external-link">wrictools</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette shows how to analyze <strong>Zero Tests</strong> and
<strong>Methanol Burn experiments</strong> using
<code><a href="../reference/analyse_zero_test.html">analyse_zero_test()</a></code> and
<code><a href="../reference/analyse_methanol_burn.html">analyse_methanol_burn()</a></code>.</p>
<hr>
</div>
<div class="section level2">
<h2 id="zero-test-analysis">Zero Test Analysis<a class="anchor" aria-label="anchor" href="#zero-test-analysis"></a>
</h2>
<p>A zero test checks the baseline VO2 and VCO2 of the WRIC system, the
mean should be 0 and the standard deviation low and both should be
constant over time. Use <code><a href="../reference/analyse_zero_test.html">analyse_zero_test()</a></code> with a data
file to get plots and statistics.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example file included with the package</span></span>
<span><span class="va">filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"data.txt"</span>, package <span class="op">=</span> <span class="st">"wrictools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyse zero test</span></span>
<span><span class="va">zero_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyse_zero_test.html">analyse_zero_test</a></span><span class="op">(</span><span class="va">filepath</span><span class="op">)</span></span></code></pre></div>
<p><img src="test_analysis_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" alt="" width="700"><img src="test_analysis_files/figure-html/unnamed-chunk-2-2.png" class="r-plt" alt="" width="700"></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">zero_stats</span><span class="op">)</span></span>
<span><span class="co">#&gt; $room1</span></span>
<span><span class="co">#&gt;   variable     mean        sd       min      max       slope</span></span>
<span><span class="co">#&gt; 1      VO2 356.7205 100.54488 -29.90960 786.6187 0.002766024</span></span>
<span><span class="co">#&gt; 2     VCO2 298.4697  87.95359 -45.17043 674.9738 0.002499467</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $room2</span></span>
<span><span class="co">#&gt;   variable     mean        sd       min      max       slope</span></span>
<span><span class="co">#&gt; 1      VO2 332.0050 122.09571 -500.9322 708.2423 0.001944661</span></span>
<span><span class="co">#&gt; 2     VCO2 267.9337  99.32789 -413.3808 565.4705 0.001476097</span></span></code></pre></div>
<p>As you can see the example data provided with this package does not
look like a zero test, which you can also see when looking at the
statistics. This vignette is intended as a quick example on how to use
the package. If you change the file to your own zero test you can
quickly assess whether the mean is 0, the standard deviation or whether
there is an offset.</p>
</div>
<div class="section level2">
<h2 id="methanol-burn-analysis">Methanol Burn Analysis<a class="anchor" aria-label="anchor" href="#methanol-burn-analysis"></a>
</h2>
<p>Methanol burns validate energy measurements in the WRIC. Use
<code><a href="../reference/analyse_methanol_burn.html">analyse_methanol_burn()</a></code> with a WRIC data file and a
methanol measurement file. The measurement file needs two columns named
<code>datetime</code>and <code>methanol</code>. Datetime by default
assume this format “2023-11-13 22:00”, but you can specify your own
dateformat and give it as a parameter to the function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example WRIC file</span></span>
<span><span class="va">data_txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"data.txt"</span>, package <span class="op">=</span> <span class="st">"wrictools"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Made up methanol measurements to show functionality</span></span>
<span><span class="va">methanol_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  datetime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"2023-11-13 22:00"</span>, <span class="st">"2023-11-13 23:30"</span>, <span class="st">"2023-11-14 03:00"</span>, <span class="st">"2023-11-14 06:00"</span>, <span class="st">"2023-11-14 08:00"</span></span>
<span>  <span class="op">)</span>, format <span class="op">=</span> <span class="st">"%Y-%m-%d %H:%M"</span><span class="op">)</span>,</span>
<span>  methanol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4842.9</span>, <span class="fl">4785.7</span>, <span class="fl">4758.6</span>, <span class="fl">4675.1</span>, <span class="fl">4629.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">methanol_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">methanol_df</span>, <span class="va">methanol_file</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyse methanol burn</span></span>
<span><span class="va">methanol_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyse_methanol_burn.html">analyse_methanol_burn</a></span><span class="op">(</span>filepath <span class="op">=</span> <span class="va">data_txt</span>, methanolfilepath <span class="op">=</span> <span class="va">methanol_file</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">methanol_results</span><span class="op">)</span></span>
<span><span class="co">#&gt; $per_interval</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 × 14</span></span></span>
<span><span class="co">#&gt;   t1                  t2                  delta_methanol_g delta_CO2_L</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2023-11-13 <span style="color: #949494;">22:00:00</span> 2023-11-13 <span style="color: #949494;">23:30:00</span>             57.2        40.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2023-11-13 <span style="color: #949494;">23:30:00</span> 2023-11-14 <span style="color: #949494;">03:00:00</span>             27.1        19.0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2023-11-14 <span style="color: #949494;">03:00:00</span> 2023-11-14 <span style="color: #949494;">06:00:00</span>             83.5        58.4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2023-11-14 <span style="color: #949494;">06:00:00</span> 2023-11-14 <span style="color: #949494;">08:00:00</span>             45.9        32.1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 10 more variables: delta_O2_L &lt;dbl&gt;, delta_time_min &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   CO2_ml_min &lt;dbl&gt;, O2_ml_min &lt;dbl&gt;, methanol_g_min &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   VO2_measured &lt;dbl&gt;, VCO2_measured &lt;dbl&gt;, VO2_dev &lt;dbl&gt;, VCO2_dev &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   RER &lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $overall</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   VO2_avg_meas VCO2_avg_meas O2_avg_calc CO2_avg_calc VO2_dev_avg VCO2_dev_avg</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>         349.          292.        423.         282.       0.153        0.442</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: RER_avg &lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plots</span></span>
<span><span class="co">#&gt; $plots$O2</span></span></code></pre></div>
<p><img src="test_analysis_files/figure-html/unnamed-chunk-3-1.png" class="r-plt" alt="" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plots$CO2</span></span></code></pre>
<p><img src="test_analysis_files/figure-html/unnamed-chunk-3-2.png" class="r-plt" alt="" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plots$RER</span></span></code></pre>
<p><img src="test_analysis_files/figure-html/unnamed-chunk-3-3.png" class="r-plt" alt="" width="700"></p>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $plots$burn_rate</span></span></code></pre>
<p><img src="test_analysis_files/figure-html/unnamed-chunk-3-4.png" class="r-plt" alt="" width="700">
Again these results are non-sense because the wric-data we’re analyzing
is not a methanol burn and the methanol measurements are fictional as
well. But you can easily see the information the function returns.</p>
<p>We can see the different measurements and most importantly the
deviation between calculated and measured VO2 and VCO2 for each
interval, meaning each time period between two measurements in the
methanol measurement file. This deviation should ideally be 0. If it is
not, check whether this might be at the beginning or end of the file
where a door or hatch might have been opened. There is an additional
table showing the same measurements for the entire period - if you use
these values make sure to cut of any time in the beginning or end that
might show noise from the door opening. You can easily do that by
specifying start and end parameters.</p>
<p>Additionally, 4 plots are created showing predicted vs measured O2
and CO2 over time. It is important to note that the value from one
interval is plotted at the end point of that interval. The other two
plots show RER over time and the methanol burn rate.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nina Ziegenbein.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
