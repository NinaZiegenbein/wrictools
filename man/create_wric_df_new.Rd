% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/processing.R
\name{create_wric_df_new}
\alias{create_wric_df_new}
\title{Creates a DataFrame for WRIC data from the new Omnical software format.}
\usage{
create_wric_df_new(
  filepath,
  lines,
  code,
  path_to_save = NULL,
  start = NULL,
  end = NULL,
  notefilepath = NULL,
  entry_exit_dict = NULL
)
}
\arguments{
\item{filepath}{Path to the new-format WRIC .txt file.}

\item{lines}{List of strings read from the file to locate the data start (used to find "Set 1").}

\item{code}{String representing the study or participant code, used for naming outputs.}

\item{path_to_save}{Directory path for saving CSV files or outputs. Currently not used for saving; default NULL.}

\item{start}{Character or POSIXct or NULL. Rows before this time will be removed. If NULL, uses the earliest available row.}

\item{end}{Character or POSIXct or NULL. Rows after this time will be removed. If NULL, uses the latest available row.}

\item{notefilepath}{String or NULL. Path to a note file. If provided, \code{detect_start_end()} is called to determine start and end times.}

\item{entry_exit_dict}{Nested list, used by \code{detect_start_end()} to extract entry/exit times from note file.}
}
\value{
A data frame containing the parsed WRIC measurements, including all sets (S1 and S2), a \code{datetime} column (POSIXct), and \code{relative_time} column (seconds from start).
}
\description{
Creates a DataFrame for WRIC data from the new Omnical software format.
}
\note{
\itemize{
\item Raises an error if the "Set 1" header cannot be found in the file.
\item Raises an error if Date or Time columns are inconsistent across sets in any row.
\item Handles the extra empty column between Set 1 and Set 2 to avoid parsing issues.
}
}
\examples{
# Load example files from the package
data_v2_txt <- system.file("extdata", "data_v2.txt", package = "wrictools")
notes_v2_txt <- system.file("extdata", "note_v2.txt", package = "wrictools")

# Create the data lines for parsing
lines <- readLines(data_v2_txt)

# Call the function
df <- create_wric_df_new(
  filepath = data_v2_txt,
  lines = lines,
  code = "study+id",
  path_to_save = NULL,
  start = NULL,
  end = NULL,
  notefilepath = notes_v2_txt
)
}
